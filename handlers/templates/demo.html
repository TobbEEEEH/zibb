<!doctype html>
<html lang="en" data-theme="{{.Theme}}">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>HTMX Theme Toggle Demo</title>
    <link rel="stylesheet" href="/static/css/base.css" />
    <script src="https://unpkg.com/htmx.org@2.0.7/dist/htmx.min.js"></script>
  </head>
  <body>
    <nav>
      <button
        id="theme-toggle"
        class="theme-toggle-btn"
        aria-label="Toggle dark/light theme"
      >
        Switch to {{if eq .Theme "light"}}Dark{{else}}Light{{end}} Mode
      </button>
      <a href="/login"></a>
      <button
        hx-get="/login"
        hx-target="#app"
        hx-swap="innerHTML"
        class="theme-toggle-btn"
      >
        Login
      </button>
      <button
        hx-get="/signup"
        hx-target="#app"
        hx-swap="innerHTML"
        class="theme-toggle-btn"
      >
        Signup
      </button>
    </nav>
    <h1>This site is still under construction</h1>
    <div class="container" id="app" style="min-height: 80vh">
      <div class="container" style="display: flex">
        <button
          id="theme-toggle"
          class="theme-toggle-btn"
          aria-label="Toggle dark/light theme"
        >
          Switch to {{if eq .Theme "light"}}Dark{{else}}Light{{end}} Mode
        </button>
        <button
          hx-get="/login"
          hx-target="#app"
          hx-swap="innerHTML"
          class="theme-toggle-btn"
        >
          Login
        </button>
        <button
          hx-get="/signup"
          hx-target="#app"
          hx-swap="innerHTML"
          class="theme-toggle-btn"
        >
          Signup
        </button>
      </div>

      <h1>Welcome to Zibb</h1>

      <form
        hx-post="/submit"
        hx-trigger="submit"
        hx-target="#response"
        hx-swap="innerHTML"
      >
        <label for="email" class="label">Email:</label>
        <input
          type="email"
          id="email"
          name="email"
          class="input"
          placeholder="you@example.com"
          required
        />

        <label for="password" class="label">Password:</label>
        <input
          type="password"
          id="password"
          name="password"
          class="input"
          placeholder="Your password"
          required
        />

        <label for="gender" class="label">Gender:</label>
        <div class="select-wrapper">
          <select id="gender" name="gender" class="select" required>
            <option value="">Select one</option>
            <option>Male</option>
            <option>Female</option>
            <option>Other</option>
          </select>
        </div>

        <div class="checkbox-group">
          <label
            ><input type="checkbox" name="subscribe" /> Subscribe to
            newsletter</label
          >
        </div>

        <button type="submit" class="button">Submit</button>
      </form>

      <div
        id="response"
        class="text-center"
        style="margin-top: 1rem; color: var(--primary-color)"
      ></div>
    </div>

    <script>
      const toggleBtn = document.getElementById("theme-toggle");
      const htmlEl = document.documentElement;

      toggleBtn.addEventListener("click", () => {
        if (htmlEl.getAttribute("data-theme") === "light") {
          htmlEl.setAttribute("data-theme", "dark");
          toggleBtn.textContent = "Switch to Light Mode";
        } else {
          htmlEl.setAttribute("data-theme", "light");
          toggleBtn.textContent = "Switch to Dark Mode";
        }
      });
    </script>
  </body>
</html>
